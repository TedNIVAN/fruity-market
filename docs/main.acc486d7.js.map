{"version":3,"sources":["js/card.js","js/burger.js","js/serial.js","js/device.js","js/modal.js","js/web3entry.js","main.js"],"names":["cardData","id","name","image","price","burgerComponent","document","addEventListener","$navbarBurgers","Array","prototype","slice","call","querySelectorAll","length","forEach","el","target","dataset","$target","getElementById","classList","toggle","serial","serialComponent","getPorts","navigator","usb","getDevices","then","devices","map","device","Port","requestPort","requestDevice","filters","device_","interfaceNumber_","endpointIn_","endpointOut_","connect","open","configuration","selectConfiguration","interfaces","element","alternates","elementalt","interfaceClass","interfaceNumber","endpoints","elementendpoint","direction","endpointNumber","claimInterface","selectAlternateInterface","controlTransferOut","readLoop","transferIn","result","onReceive","data","error","onReceiveError","disconnect","close","send","transferOut","port","deviceComponent","event","connectButton","querySelector","console","log","productName","textContent","textDecoder","TextDecoder","t","io","print","decode","selectedPort","catch","ports","withdrawFruit","str","undefined","textEncoder","TextEncoder","encode","BulmaModal","amountToPay","selector","elem","close_data","on_show","on_close","modalClose","that","e","Event","dispatchEvent","callback","modalComponent","mdl","item","show","getAttribute","getElementsByClassName","innerText","src","Number","parseFloat","ethPrice","toPrecision","web3","Web3","aggregatorV3InterfaceABI","addr","priceFeed","eth","Contract","web3entryComponent","methods","getLatestPrice","events","Received","receivedAmount","returnValues","innerHTML","Vue"],"mappings":"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","file":"main.acc486d7.js","sourceRoot":"../src","sourcesContent":["const cardData = [{\n    id: 0,\n    name: 'Strawberry',\n    image: '028-strawberry.png',\n    price: 1,\n  },\n  {\n    id: 1,\n    name: 'Banana',\n    image: '006-bananas.png',\n    price: 2,\n  },\n  {\n    id: 2,\n    name: 'Pear',\n    image: '024-pear.png',\n    price: 2,\n  },\n  {\n    id: 3,\n    name: 'Dragon Fruit',\n    image: '015-dragon fruit.png',\n    price: 7,\n  },\n  {\n    id: 4,\n    name: 'Orange',\n    image: '022-orange.png',\n    price: 1,\n  },\n  {\n    id: 5,\n    name: 'Mango',\n    image: '021-mango.png',\n    price: 5,\n  },\n  {\n    id: 6,\n    name: 'Lemon',\n    image: '020-lemon.png',\n    price: 1,\n  },\n  {\n    id: 7,\n    name: 'Watermelon',\n    image: '030-watermelon.png',\n    price: 2,\n  },\n  {\n    id: 8,\n    name: 'Berry',\n    image: '008-berry.png',\n    price: 2,\n  },\n  {\n    id: 9,\n    name: 'Pomegranate',\n    image: '025-pomegranate.png',\n    price: 3,\n  },\n  {\n    id: 10,\n    name: 'Blueberry',\n    image: '009-blueberry.png',\n    price: 2,\n  },\n  {\n    id: 11,\n    name: 'Rose Apple',\n    image: '027-rose apple.png',\n    price: 4,\n  }\n  ]\n  \n export { cardData }","export function burgerComponent(){\n    document.addEventListener('DOMContentLoaded', () => {\n        // Get all \"navbar-burger\" elements\n        const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);\n    \n        // Check if there are any navbar burgers\n        if ($navbarBurgers.length > 0) {\n    \n            // Add a click event on each of them\n            $navbarBurgers.forEach(el => {\n                el.addEventListener('click', () => {\n    \n                    // Get the target from the \"data-target\" attribute\n                    const target = el.dataset.target;\n                    const $target = document.getElementById(target);\n    \n                    // Toggle the \"is-active\" class on both the \"navbar-burger\" and the \"navbar-menu\"\n                    el.classList.toggle('is-active');\n                    $target.classList.toggle('is-active');\n    \n                });\n            });\n        }\n    });\n}","export var serial = {};\n\nexport function serialComponent() {\n  'use strict';\n\n  serial.getPorts = function () {\n      return navigator.usb.getDevices().then(devices => {\n          return devices.map(device => new serial.Port(device));\n      });\n  };\n\n  serial.requestPort = function () {\n      const filters = [\n          { 'vendorId': 0x2341, 'productId': 0x8036 }, // Arduino Leonardo\n          { 'vendorId': 0x2341, 'productId': 0x8037 }, // Arduino Micro\n          { 'vendorId': 0x2341, 'productId': 0x804d }, // Arduino/Genuino Zero\n          { 'vendorId': 0x2341, 'productId': 0x804e }, // Arduino/Genuino MKR1000\n          { 'vendorId': 0x2341, 'productId': 0x804f }, // Arduino MKRZERO\n          { 'vendorId': 0x2341, 'productId': 0x8050 }, // Arduino MKR FOX 1200\n          { 'vendorId': 0x2341, 'productId': 0x8052 }, // Arduino MKR GSM 1400\n          { 'vendorId': 0x2341, 'productId': 0x8053 }, // Arduino MKR WAN 1300\n          { 'vendorId': 0x2341, 'productId': 0x8054 }, // Arduino MKR WiFi 1010\n          { 'vendorId': 0x2341, 'productId': 0x8055 }, // Arduino MKR NB 1500\n          { 'vendorId': 0x2341, 'productId': 0x8056 }, // Arduino MKR Vidor 4000\n          { 'vendorId': 0x2341, 'productId': 0x8057 }, // Arduino NANO 33 IoT\n          { 'vendorId': 0x1A86, 'productId': 0x7523 }, // ESP8266\n          { 'vendorId': 0x10C4, 'productId': 0xEA60 }, // ESP32\n          { 'vendorId': 0x239A }, // Adafruit Boards!\n      ];\n      return navigator.usb.requestDevice({ 'filters': filters }).then(\n          device => new serial.Port(device)\n      );\n  }\n\n  serial.Port = function (device) {\n      this.device_ = device;\n      this.interfaceNumber_ = 2;  // original interface number of WebUSB Arduino demo\n      this.endpointIn_ = 5;       // original in endpoint ID of WebUSB Arduino demo\n      this.endpointOut_ = 4;      // original out endpoint ID of WebUSB Arduino demo\n  };\n\n  serial.Port.prototype.connect = function () {\n      let readLoop = () => {\n          this.device_.transferIn(this.endpointIn_, 64).then(result => {\n              this.onReceive(result.data);\n              readLoop();\n          }, error => {\n              this.onReceiveError(error);\n          });\n      };\n\n      return this.device_.open()\n          .then(() => {\n              if (this.device_.configuration === null) {\n                  return this.device_.selectConfiguration(1);\n              }\n          })\n          .then(() => {\n              var configurationInterfaces = this.device_.configuration.interfaces;\n              configurationInterfaces.forEach(element => {\n                  element.alternates.forEach(elementalt => {\n                      if (elementalt.interfaceClass == 0xff) {\n                          this.interfaceNumber_ = element.interfaceNumber;\n                          elementalt.endpoints.forEach(elementendpoint => {\n                              if (elementendpoint.direction == \"out\") {\n                                  this.endpointOut_ = elementendpoint.endpointNumber;\n                              }\n                              if (elementendpoint.direction == \"in\") {\n                                  this.endpointIn_ = elementendpoint.endpointNumber;\n                              }\n                          })\n                      }\n                  })\n              })\n          })\n          .then(() => this.device_.claimInterface(this.interfaceNumber_))\n          .then(() => this.device_.selectAlternateInterface(this.interfaceNumber_, 0))\n          .then(() => this.device_.controlTransferOut({\n              'requestType': 'class',\n              'recipient': 'interface',\n              'request': 0x22,\n              'value': 0x01,\n              'index': this.interfaceNumber_\n          }))\n          .then(() => {\n              readLoop();\n          });\n  };\n\n  serial.Port.prototype.disconnect = function () {\n      return this.device_.controlTransferOut({\n          'requestType': 'class',\n          'recipient': 'interface',\n          'request': 0x22,\n          'value': 0x00,\n          'index': this.interfaceNumber_\n      })\n          .then(() => this.device_.close());\n  };\n\n  serial.Port.prototype.send = function (data) {\n      return this.device_.transferOut(this.endpointOut_, data);\n  };\n}","import { serial } from './serial'\n\nvar port;\n\nexport function deviceComponent() {\n  'use strict';\n\n  document.addEventListener('DOMContentLoaded', event => {\n    let connectButton = document.querySelector('#connect');\n\n    function connect() {\n      console.log('Connecting to ' + port.device_.productName + '...');\n      port.connect().then(() => {\n        console.log(port);\n        console.log('Connected.');\n        connectButton.textContent = 'Disconnect Device';\n        port.onReceive = data => {\n          let textDecoder = new TextDecoder();\n          t.io.print(textDecoder.decode(data));\n        }\n        port.onReceiveError = error => {\n          console.log('Receive error: ' + error);\n        };\n      }, error => {\n        console.log('Connection error: ' + error);\n      });\n    };\n\n    connectButton.addEventListener('click', function () {\n      if (port) {\n        port.disconnect();\n        connectButton.textContent = 'Connect Device';\n        port = null;\n      } else {\n        serial.requestPort().then(selectedPort => {\n          port = selectedPort;\n          connect();\n        }).catch(error => {\n          console.log('Connection error: ' + error);\n        });\n      }\n    });\n\n    serial.getPorts().then(ports => {\n      if (ports.length == 0) {\n        console.log('No devices found.');\n      } else {\n        port = ports[0];\n        connect();\n      }\n    });\n  });\n}\n\nexport function withdrawFruit(str) {\n  if (port !== undefined) {\n    let textEncoder = new TextEncoder();\n    port.send(textEncoder.encode(str)).catch(error => {\n      console.log('Send error: ' + error);\n    });\n  }\n}","import { ethPrice } from './web3entry'\n\nclass BulmaModal {\n    constructor(selector) {\n        this.elem = document.querySelector(selector)\n        this.close_data()\n    }\n\n    show() {\n        this.elem.classList.toggle('is-active')\n        this.on_show()\n    }\n\n    close() {\n        this.elem.classList.toggle('is-active')\n        this.on_close()\n    }\n\n    close_data() {\n        var modalClose = this.elem.querySelectorAll(\"[data-bulma-modal='close']\")\n        var that = this\n        modalClose.forEach(function (e) {\n            e.addEventListener(\"click\", function () {\n\n                that.elem.classList.toggle('is-active')\n\n                var event = new Event('modal:close')\n\n                that.elem.dispatchEvent(event);\n            })\n        })\n    }\n\n    on_show() {\n        var event = new Event('modal:show')\n\n        this.elem.dispatchEvent(event);\n    }\n\n    on_close() {\n        var event = new Event('modal:close')\n\n        this.elem.dispatchEvent(event);\n    }\n\n    addEventListener(event, callback) {\n        this.elem.addEventListener(event, callback)\n    }\n}\n\nexport let amountToPay;\n\nexport function modalComponent() {\n    var mdl = new BulmaModal(\"#myModal\")\n\n    document.querySelectorAll('.card-content').forEach(item => {\n        item.addEventListener('click', event => {\n            mdl.show()\n            console.log(item);\n            let name = item.getAttribute(\"name\");\n            console.log(name);\n            document.getElementsByClassName(\"modal-card-title\")[0].innerText = name;\n            let image = item.getAttribute(\"data-img\");\n            console.log(image);\n            document.getElementById(\"fimg\").src = image;\n            let price = item.getAttribute(\"data-price\");\n            amountToPay = Number.parseFloat(price / ethPrice).toPrecision(2);\n            document.getElementById(\"fruit-price\").innerText = 'COST $' + price + ' - PAY ' + amountToPay + ' ETH';\n        })\n    })\n\n    mdl.addEventListener('modal:show', function () {\n        console.log(\"opened\")\n    })\n\n    mdl.addEventListener(\"modal:close\", function () {\n        console.log(\"closed\")\n    })\n}\n","import { withdrawFruit } from './device'\nimport { amountToPay } from './modal'\n\n// Change this to use your own infura ID\nconst web3 = new Web3(`wss://kovan.infura.io/ws/v3/${process.env.APIKEY}`);\n\n// AggregatorV3Interface ABI\nconst aggregatorV3InterfaceABI =\n    [\n        {\n            \"inputs\": [],\n            \"stateMutability\": \"nonpayable\",\n            \"type\": \"constructor\"\n        },\n        {\n            \"anonymous\": false,\n            \"inputs\": [\n                {\n                    \"indexed\": false,\n                    \"internalType\": \"address\",\n                    \"name\": \"\",\n                    \"type\": \"address\"\n                },\n                {\n                    \"indexed\": false,\n                    \"internalType\": \"uint256\",\n                    \"name\": \"\",\n                    \"type\": \"uint256\"\n                }\n            ],\n            \"name\": \"Received\",\n            \"type\": \"event\"\n        },\n        {\n            \"inputs\": [],\n            \"name\": \"getLatestPrice\",\n            \"outputs\": [\n                {\n                    \"internalType\": \"int256\",\n                    \"name\": \"\",\n                    \"type\": \"int256\"\n                }\n            ],\n            \"stateMutability\": \"view\",\n            \"type\": \"function\"\n        },\n        {\n            \"stateMutability\": \"payable\",\n            \"type\": \"receive\"\n        }\n    ]\n\n// Price Feed Address\nconst addr = \"0xC8f872aEe06663b900c067Dfd3D87813e6A4F72A\";\ndocument.getElementById(\"address\").innerText = addr;\n\n// Set up contract instance\nconst priceFeed = new web3.eth.Contract(aggregatorV3InterfaceABI, addr);\n\nexport let ethPrice;\n\nexport function web3entryComponent() {\n    //Make call to latestRoundData()\n    priceFeed.methods.getLatestPrice().call()\n        .then((price) => {\n            // Do something with roundData\n            ethPrice = price / 1.e8;\n            console.log(\"Ethereum Price: \", price / 1.e8)\n        });\n\n    priceFeed.events.Received((error, event) => {\n        if (event) {\n            let receivedAmount = event.returnValues[1];\n            console.log(receivedAmount);\n            console.log(amountToPay * 1e18);\n            if (receivedAmount >= amountToPay * 1e18) {\n                withdrawFruit('H');\n                document.getElementsByClassName(\"modal-card-body\")[0].innerHTML = `\n        <center>\n        <div class=\"columns is-vcentered has-background-primary\">\n            <div class=\"column\">\n                <strong class=\"has-text-black\">\n                Payment Succeeded\n                </strong>\n                <br>\n            </div>\n        </div>\n        <div class=\"columns is-vcentered\">\n            <div class=\"column\">\n                <figure class=\"image is-128x128\">\n                <img src=\"basket.png\" alt=\"\">\n                </figure>\n            </div>\n        </div>\n        <div class=\"columns is-vcentered has-background-info-light\">\n            <div class=\"column\">\n               <strong class=\"has-text-black\">You can now withdraw your purchase</strong> \n            </div>\n        </div>\n\n    </center>\n        `;\n            } else {\n                document.getElementsByClassName(\"modal-card-body\")[0].innerHTML = `\n        <center>\n        <div class=\"columns is-vcentered has-background-danger\">\n            <div class=\"column\">\n                <strong class=\"has-text-black\">\n                Failed to proceed: Insufficient funds sent\n                </strong>\n                <br>\n            </div>\n        </div>\n        <div class=\"columns is-vcentered\">\n            <div class=\"column\">\n                <figure class=\"image is-128x128\">\n                <img src=\"cashier.png\" alt=\"\">\n                </figure>\n            </div>\n        </div>\n        <div class=\"columns is-vcentered has-background-info-light\">\n            <div class=\"column\">\n               <strong class=\"has-text-black\">Please remake your purchase</strong> \n            </div>\n        </div>\n\n    </center>\n        `;\n            }\n        }\n    });\n}","import { cardData } from './js/card'\nimport { burgerComponent } from './js/burger'\nimport { web3entryComponent } from './js/web3entry'\nimport { modalComponent } from './js/modal'\nimport { serialComponent } from './js/serial'\nimport { deviceComponent } from './js/device'\n\nnew Vue({\n    el: '#app',\n    data: {\n        cardData\n    }\n})\n\n/* Handles the navbar's hamburger for a small screen host. */\nburgerComponent();\n\n/* Establishes the communication with an Ethereum node. */\nweb3entryComponent();\n\n/* Handles the fruit's modal. */\nmodalComponent();\n\n/* Manages the USB Serial communication between the host and the device. */\nserialComponent();\n\n/* Handles the device interaction. */\ndeviceComponent();\n"]}